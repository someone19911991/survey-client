{"ast":null,"code":"export var getModalTitle=function getModalTitle(){var survey=localStorage.getItem(\"survey\");var openModal;var _modalTitle;if(!survey){openModal=true;_modalTitle=\"Do you want to continue the survey after leaving the site and returning again?\";}else{openModal=true;_modalTitle=\"Do you want to continue an incomplete survey?\";}return{_modalTitle:_modalTitle,openModal:openModal};};export var getLSQuestions=function getLSQuestions(survey){var lsAnsweredQuestions=JSON.parse(survey);var answeredQuestionsEntries=Object.entries(lsAnsweredQuestions);var lsAnsweredQuestionsLength=Object.keys(lsAnsweredQuestions).length;var qIndex=lsAnsweredQuestionsLength>5?lsAnsweredQuestionsLength-2:lsAnsweredQuestionsLength;return{lsAnsweredQuestions:lsAnsweredQuestions,lsAnsweredQuestionsLength:lsAnsweredQuestionsLength,qIndex:qIndex,answeredQuestionsEntries:answeredQuestionsEntries};};export var addUpdateQuestion=function addUpdateQuestion(answer,question,survey){if(Array.isArray(question)&&Array.isArray(answer)){question.forEach(function(questionItem,questionIndex){if(survey[questionItem]){survey[questionItem]=answer[questionIndex];}else{survey[questionItem]=answer[questionIndex];}});}else{survey[question]=answer;}return survey;};","map":{"version":3,"names":["getModalTitle","survey","localStorage","getItem","openModal","_modalTitle","getLSQuestions","lsAnsweredQuestions","JSON","parse","answeredQuestionsEntries","Object","entries","lsAnsweredQuestionsLength","keys","length","qIndex","addUpdateQuestion","answer","question","Array","isArray","forEach","questionItem","questionIndex"],"sources":["C:/Users/Garik/Desktop/task2/client/src/utils/index.ts"],"sourcesContent":["import { ISurvey } from \"../types/index\";\n\nexport const getModalTitle = () => {\n    const survey = localStorage.getItem(\"survey\");\n    let openModal: boolean;\n    let _modalTitle: string;\n    if (!survey) {\n        openModal = true;\n        _modalTitle =\n            \"Do you want to continue the survey after leaving the site and returning again?\";\n    } else {\n        openModal = true;\n        _modalTitle = \"Do you want to continue an incomplete survey?\";\n    }\n    return { _modalTitle, openModal };\n};\n\nexport const getLSQuestions = (survey: string) => {\n        const lsAnsweredQuestions = JSON.parse(survey) as ISurvey;\n        const answeredQuestionsEntries = Object.entries(lsAnsweredQuestions);\n        const lsAnsweredQuestionsLength =\n            Object.keys(lsAnsweredQuestions).length;\n        const qIndex =\n            lsAnsweredQuestionsLength > 5\n                ? lsAnsweredQuestionsLength - 2\n                : lsAnsweredQuestionsLength;\n    return { lsAnsweredQuestions, lsAnsweredQuestionsLength, qIndex, answeredQuestionsEntries };\n};\n\nexport const addUpdateQuestion = (\n    answer: string | string[],\n    question: string | string[],\n    survey: ISurvey\n) => {\n    if (Array.isArray(question) && Array.isArray(answer)) {\n        question.forEach((questionItem, questionIndex) => {\n            if (survey[questionItem as keyof typeof survey]) {\n                survey[questionItem as keyof typeof survey] =\n                    answer[questionIndex];\n            } else {\n                survey[questionItem as keyof typeof survey] =\n                    answer[questionIndex];\n            }\n        });\n    } else {\n        survey[question as keyof typeof survey] = answer as string;\n    }\n    return survey;\n};\n"],"mappings":"AAEA,MAAO,IAAMA,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC/B,GAAMC,OAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAIC,UAAkB,CACtB,GAAIC,YAAmB,CACvB,GAAI,CAACJ,MAAM,CAAE,CACTG,SAAS,CAAG,IAAI,CAChBC,WAAW,CACP,gFAAgF,CACxF,CAAC,IAAM,CACHD,SAAS,CAAG,IAAI,CAChBC,WAAW,CAAG,+CAA+C,CACjE,CACA,MAAO,CAAEA,WAAW,CAAXA,WAAW,CAAED,SAAS,CAATA,SAAU,CAAC,CACrC,CAAC,CAED,MAAO,IAAME,eAAc,CAAG,QAAjBA,eAAc,CAAIL,MAAc,CAAK,CAC1C,GAAMM,oBAAmB,CAAGC,IAAI,CAACC,KAAK,CAACR,MAAM,CAAY,CACzD,GAAMS,yBAAwB,CAAGC,MAAM,CAACC,OAAO,CAACL,mBAAmB,CAAC,CACpE,GAAMM,0BAAyB,CAC3BF,MAAM,CAACG,IAAI,CAACP,mBAAmB,CAAC,CAACQ,MAAM,CAC3C,GAAMC,OAAM,CACRH,yBAAyB,CAAG,CAAC,CACvBA,yBAAyB,CAAG,CAAC,CAC7BA,yBAAyB,CACvC,MAAO,CAAEN,mBAAmB,CAAnBA,mBAAmB,CAAEM,yBAAyB,CAAzBA,yBAAyB,CAAEG,MAAM,CAANA,MAAM,CAAEN,wBAAwB,CAAxBA,wBAAyB,CAAC,CAC/F,CAAC,CAED,MAAO,IAAMO,kBAAiB,CAAG,QAApBA,kBAAiB,CAC1BC,MAAyB,CACzBC,QAA2B,CAC3BlB,MAAe,CACd,CACD,GAAImB,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,EAAIC,KAAK,CAACC,OAAO,CAACH,MAAM,CAAC,CAAE,CAClDC,QAAQ,CAACG,OAAO,CAAC,SAACC,YAAY,CAAEC,aAAa,CAAK,CAC9C,GAAIvB,MAAM,CAACsB,YAAY,CAAwB,CAAE,CAC7CtB,MAAM,CAACsB,YAAY,CAAwB,CACvCL,MAAM,CAACM,aAAa,CAAC,CAC7B,CAAC,IAAM,CACHvB,MAAM,CAACsB,YAAY,CAAwB,CACvCL,MAAM,CAACM,aAAa,CAAC,CAC7B,CACJ,CAAC,CAAC,CACN,CAAC,IAAM,CACHvB,MAAM,CAACkB,QAAQ,CAAwB,CAAGD,MAAgB,CAC9D,CACA,MAAOjB,OAAM,CACjB,CAAC"},"metadata":{},"sourceType":"module"}